<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • primarycensored</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://primarycensored.epinowcast.org/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">primarycensored</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.3.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/primarycensored.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-reference" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Reference</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-reference"><li><a class="dropdown-item" href="../reference/index.html">R reference</a></li>
    <li><a class="dropdown-item" href="https://primarycensored.epinowcast.org/stan/">Stan reference</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><h6 class="dropdown-header" data-toc-skip>──── First steps ────</h6></li>
    <li><a class="dropdown-item" href="../articles/primarycensored.html">Getting started</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>──── Methodology ────</h6></li>
    <li><a class="dropdown-item" href="../articles/why-it-works.html">Why it works</a></li>
    <li><a class="dropdown-item" href="../articles/analytic-solutions.html">Analytic solutions for censored delay distributions</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>──── Fitting delay distributions ────</h6></li>
    <li><a class="dropdown-item" href="../articles/fitting-dists-with-stan.html">Fitting distributions using primarycensored and cmdstan</a></li>
    <li><a class="dropdown-item" href="../articles/fitting-dists-with-fitdistrplus.html">Fitting distributions using primarycensored and fitdistrplus</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>──── Stan development ────</h6></li>
    <li><a class="dropdown-item" href="../articles/using-stan-tools.html">How to use primarycensored with Stan</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/epinowcast/primarycensored/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/epinowcast/primarycensored/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.3.0.9000" id="primarycensored-1309000">primarycensored 1.3.0.9000<a class="anchor" aria-label="anchor" href="#primarycensored-1309000"></a></h2>
<p>This major release adds left-truncation support via the <code>L</code> parameter, enabling distributions to be truncated over <code>[L, D]</code> rather than just <code>[0, D]</code>. It also removes deprecated functionality that was soft-deprecated in version 1.1.0 and removes the <code>lifecycle</code> and <code>rlang</code> packages from dependencies.</p>
<div class="section level3">
<h3 id="breaking-changes-1-3-0-9000">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-1-3-0-9000"></a></h3>
<ul><li>Removed deprecated <code>pdist_name</code> and <code>dprimary_name</code> arguments from <code><a href="../reference/pprimarycensored.html">pprimarycensored()</a></code>, <code><a href="../reference/dprimarycensored.html">dprimarycensored()</a></code>, <code><a href="../reference/new_pcens.html">new_pcens()</a></code>, and <code><a href="../reference/fitdistdoublecens.html">fitdistdoublecens()</a></code>. Use <code><a href="../reference/add_name_attribute.html">add_name_attribute()</a></code> on the <code>pdist</code> and <code>dprimary</code> functions instead to enable analytical solutions.</li>
<li>Removed deprecated support for passing numeric values to the <code>pwindow</code> and <code>D</code> arguments in <code><a href="../reference/fitdistdoublecens.html">fitdistdoublecens()</a></code>. These must now be column names in <code>censdata</code>.</li>
<li>Removed <code>lifecycle</code> and <code>rlang</code> packages from dependencies.</li>
<li>R functions now include an <code>L</code> parameter before <code>D</code> in their signatures. If you were using positional arguments for <code>D</code> (e.g., <code>pprimarycensored(x, pdist, pwindow, 10)</code>), you must now use named arguments (e.g., <code>pprimarycensored(x, pdist, pwindow, D = 10)</code>). The affected functions are <code><a href="../reference/dprimarycensored.html">dprimarycensored()</a></code>, <code><a href="../reference/pprimarycensored.html">pprimarycensored()</a></code>, <code><a href="../reference/rprimarycensored.html">rprimarycensored()</a></code>, and <code><a href="../reference/qprimarycensored.html">qprimarycensored()</a></code>. (<a href="https://github.com/epinowcast/primarycensored/issues/63" class="external-link">#63</a>)</li>
<li>Stan functions now include an <code>L</code> parameter for lower truncation, placed before <code>D</code>. This affects <code>primarycensored_lpmf</code>, <code>primarycensored_lcdf</code>, <code>primarycensored_cdf</code>, <code>primarycensored_pmf</code>, and all vectorized variants. Update your Stan code to include the new parameter: <code>primarycensored_lpmf(d | dist_id, params, pwindow, d_upper, L, D, primary_id, primary_params)</code>. (<a href="https://github.com/epinowcast/primarycensored/issues/63" class="external-link">#63</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-1-3-0-9000">New features<a class="anchor" aria-label="anchor" href="#new-features-1-3-0-9000"></a></h3>
<ul><li>Added <code>dependencies</code> argument to <code><a href="../reference/pcd_load_stan_functions.html">pcd_load_stan_functions()</a></code> that automatically resolves and includes all functions that the requested functions depend on. When <code>TRUE</code>, dependencies are included in topological order (dependencies before functions that use them). (<a href="https://github.com/epinowcast/primarycensored/issues/171" class="external-link">#171</a>)</li>
<li>Added <code><a href="../reference/pcd_stan_function_deps.html">pcd_stan_function_deps()</a></code> to query the dependency graph of Stan functions, returning all dependencies for a given function in topological order. (<a href="https://github.com/epinowcast/primarycensored/issues/171" class="external-link">#171</a>)</li>
<li>Added left-truncation support via the <code>L</code> parameter to all primary censored distribution functions (<code><a href="../reference/dprimarycensored.html">dprimarycensored()</a></code>, <code><a href="../reference/pprimarycensored.html">pprimarycensored()</a></code>, <code><a href="../reference/rprimarycensored.html">rprimarycensored()</a></code>, <code><a href="../reference/qprimarycensored.html">qprimarycensored()</a></code>) and Stan functions. The <code>L</code> parameter specifies the minimum delay (lower truncation point), enabling distributions to be truncated over <code>[L, D]</code> rather than just <code>[0, D]</code>. This is useful for generation intervals and other settings where delays below a threshold cannot occur. Defaults to <code>L = 0</code> for backward compatibility. (<a href="https://github.com/epinowcast/primarycensored/issues/63" class="external-link">#63</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-3-0-9000">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-3-0-9000"></a></h3>
<ul><li>Renamed <code>min</code> and <code>max</code> parameters to <code>xmin</code> and <code>xmax</code> in Stan functions (<code>expgrowth_pdf</code>, <code>expgrowth_lpdf</code>, <code>expgrowth_cdf</code>, <code>expgrowth_lcdf</code>, <code>expgrowth_rng</code>, <code>primary_lpdf</code>) to avoid conflicts with Stan built-in functions. CmdStan 2.38.0 now strictly enforces reserved keyword restrictions when exposing Stan functions to R. (<a href="https://github.com/epinowcast/primarycensored/issues/258" class="external-link">#258</a>)</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.3.0" id="primarycensored-130">primarycensored 1.3.0<a class="anchor" aria-label="anchor" href="#primarycensored-130"></a></h2><p class="text-muted">CRAN release: 2025-12-01</p>
<p>This minor release improves documentation for <code><a href="../reference/fitdistdoublecens.html">fitdistdoublecens()</a></code> and adds learning objective sections to vignettes. It also fixes floating-point precision issues in <code><a href="../reference/dprimarycensored.html">dprimarycensored()</a></code> and adds bounds checking to CDF methods.</p>
<div class="section level3">
<h3 id="documentation-1-3-0">Documentation<a class="anchor" aria-label="anchor" href="#documentation-1-3-0"></a></h3>
<ul><li>Improved documentation for <code><a href="../reference/fitdistdoublecens.html">fitdistdoublecens()</a></code>:
<ul><li>Expanded function description to explain primary censoring, secondary censoring, and truncation.</li>
<li>Added detailed <code>@details</code> sections explaining how distribution names are resolved (e.g., <code>"gamma"</code> uses <code><a href="https://rdrr.io/r/stats/GammaDist.html" class="external-link">dgamma()</a></code> and <code><a href="https://rdrr.io/r/stats/GammaDist.html" class="external-link">pgamma()</a></code>), and what the function does internally.</li>
<li>Enhanced <code>distr</code> parameter documentation with examples and guidance on custom distributions.</li>
</ul></li>
<li>Added “What you will learn” and “How you might adapt this vignette” sections to both the fitdistrplus and Stan fitting vignettes to help users understand learning objectives and adapt the examples for their own data.</li>
</ul></div>
<div class="section level3">
<h3 id="package-1-3-0">Package<a class="anchor" aria-label="anchor" href="#package-1-3-0"></a></h3>
<ul><li>Added tests to verify that <code><a href="../reference/pcd_as_stan_data.html">pcd_as_stan_data()</a></code> and <code><a href="../reference/fitdistdoublecens.html">fitdistdoublecens()</a></code> correctly handle data frames with additional columns beyond those required. (<a href="https://github.com/epinowcast/primarycensored/issues/213" class="external-link">#213</a>)</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-3-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-3-0"></a></h3>
<ul><li>Fixed an issue where <code><a href="../reference/dprimarycensored.html">dprimarycensored()</a></code> could return very small negative values (e.g., -2.2e-16) due to floating-point precision when computing PMF as CDF differences. PMF values are now clamped to be non-negative. (<a href="https://github.com/epinowcast/primarycensored/issues/238" class="external-link">#238</a>)</li>
<li>Added bounds checking to all <code><a href="../reference/pcens_cdf.html">pcens_cdf()</a></code> methods to ensure CDF values are always in [0, 1], complementing the existing upper bound check with a lower bound check.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2.0" id="primarycensored-120">primarycensored 1.2.0<a class="anchor" aria-label="anchor" href="#primarycensored-120"></a></h2><p class="text-muted">CRAN release: 2025-06-09</p>
<p>This minor release adds quantile functions for primary censored distributions and enhances the <code><a href="../reference/fitdistdoublecens.html">fitdistdoublecens()</a></code> function to support varying primary censoring windows and truncation times. The release also improves documentation, particularly the Stan reference, making it easier for users to navigate and work with the Stan code.</p>
<div class="section level3">
<h3 id="package-1-2-0">Package<a class="anchor" aria-label="anchor" href="#package-1-2-0"></a></h3>
<ul><li>Added new functions to compute quantiles of the primary censored distribution:
<ul><li>
<code><a href="../reference/pcens_quantile.html">pcens_quantile()</a></code>: Core implementation using numerical optimisation to find quantiles by inverting the CDF. The implementation allows for analytical solutions to be added in future versions using the same interface as <code><a href="../reference/pcens_cdf.html">pcens_cdf()</a></code>.</li>
<li>
<code><a href="../reference/qprimarycensored.html">qpcens()</a></code> and <code><a href="../reference/qprimarycensored.html">qprimarycensored()</a></code>: Convenient wrapper functions that provide alternative interfaces to <code><a href="../reference/pcens_quantile.html">pcens_quantile()</a></code>.</li>
</ul></li>
<li>Added support to <code><a href="../reference/fitdistdoublecens.html">fitdistdoublecens()</a></code> to allow for varying primary censoring windows and truncation times. As part of this refactor the interface has also been improved to allow for more flexible data input.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-1-2-0">Documentation<a class="anchor" aria-label="anchor" href="#documentation-1-2-0"></a></h3>
<ul><li>Removed authorship from vignettes.</li>
<li>Updated the <code>fitdistrplus</code> vignette to use more complex data where the relative observation time is not constant. Also removed the note that the <code><a href="../reference/fitdistdoublecens.html">fitdistdoublecens()</a></code> function is limited to a single primary censoring windows and truncation time as this is no longer the case.</li>
<li>The <a href="https://primarycensored.epinowcast.org/stan/">Stan Reference</a> has been enhanced to make it easier to navigate the Stan code.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.0" id="primarycensored-110">primarycensored 1.1.0<a class="anchor" aria-label="anchor" href="#primarycensored-110"></a></h2><p class="text-muted">CRAN release: 2025-02-10</p>
<p>This minor release improves the documentation and the internal system used to automatically discover analytical solutions. It also adds lookups for supported supported distributions and tooling for working with these lookups. This makes it easier for package developers using <code>primarycensored</code> and also makes it easier to work with the Stan likelihood functions by improving the discoverability of the distribution functions. Minor bugs were also fixed.</p>
<div class="section level3">
<h3 id="package-1-1-0">Package<a class="anchor" aria-label="anchor" href="#package-1-1-0"></a></h3>
<ul><li>Updated the CI so that stan code is also tested on Windows and Mac. This is to ensure that the stan code is compatible with these platforms and in response to a CI bug in <code>epidist</code>.</li>
<li>Revised approach to automatic discovery of distribution functions. This soft deprecates the <code>pdist_name</code> and <code>dprimary_name</code> arguments throughout. Users wishing to pass distribution names (i.e. to potentially leverage analytical solutions) are advised to use the newly introduced <code><a href="../reference/add_name_attribute.html">add_name_attribute()</a></code> function. Adds transient dependency on <code>lifecycle</code> and <code>rlang</code> packages. See <a href="https://github.com/epinowcast/primarycensored/issues/188" class="external-link">#188</a> by <a href="https://github.com/pearsonca" class="external-link">@pearsonca</a>.</li>
<li>Added <code><a href="../reference/pcd_stan_dist_id.html">pcd_stan_dist_id()</a></code> to allow for discovery of distribution IDs for Stan models.</li>
<li>Added <code><a href="../reference/pcd_dist_name.html">pcd_dist_name()</a></code> to allow for discovery of distribution names for R functions as needed for <code><a href="../reference/add_name_attribute.html">add_name_attribute()</a></code>.</li>
<li>Added documentation to suggest the use of <code>methods(pcens_cdf)</code> to find analytical solutions.</li>
<li>Added new data sets <code>pcd_distributions</code> and <code>pcd_primary_distributions</code> to document the distributions supported by <code>primarycensored</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-1-1-0">Documentation<a class="anchor" aria-label="anchor" href="#documentation-1-1-0"></a></h3>
<ul><li>Added a CRAN downloads badge to the README.</li>
<li>Corrected how to specify an empty array in the docs of <code>primarycensored_lcdf()</code>.</li>
<li>All documentation was reviewed and updated to enhance readability and clarity.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-1-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-1-0"></a></h3>
<ul><li>Added a missing <code>@family</code> tag to the <code>pcens</code> functions. This omission resulted in the Weibull analytical solution not being visible in the package documentation.</li>
<li>Added precalculation of vector sizes to the <code>primarycensored_cdf()</code> stan function, avoiding errors on some platforms due to narrowing conversions in aggregate initialisation.</li>
<li>Changed <code>D</code> to be of type real in <code>pcens_model.stan</code> in order to support infinite <code>relative_obs_time</code>.</li>
<li>Switched to using <code>num_elements()</code> over <code>size()</code> in all stan code to resolve compilation issues on some platforms as reported by <a href="https://github.com/sbfnk" class="external-link">@sbfnk</a>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="primarycensored-100">primarycensored 1.0.0<a class="anchor" aria-label="anchor" href="#primarycensored-100"></a></h2><p class="text-muted">CRAN release: 2024-10-28</p>
<p>This is the first major release of <code>primarycensored</code> and has been submitted to CRAN.</p>
<div class="section level3">
<h3 id="package-1-0-0">Package<a class="anchor" aria-label="anchor" href="#package-1-0-0"></a></h3>
<ul><li>Fix internal package misspelling of <code>primary_lpdf</code>.</li>
<li>Move to “stable” lifecycle status.</li>
<li>Added <code>rhub</code> checks to the <code>Github Actions</code> workflow.</li>
<li>Added <code>dependencies: "hard"</code> to the <code>R-CMD-check</code> workflow to ensure checks pass without optional dependencies.</li>
<li>Improved handling of examples that use optional dependencies.</li>
<li>Check all URLs for redirects.</li>
<li>Ensure that all functions have documented return values.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.0" id="primarycensored-060">primarycensored 0.6.0<a class="anchor" aria-label="anchor" href="#primarycensored-060"></a></h2>
<p>This release renames the package to <code>primarycensored</code> from <code>primarycensoredist</code> and also renames many of the functions to remove the <code>dist</code> in their name. This was done to make the package name and the functions more consistent and to remove the need to use the <code>dist</code> suffix. It also aligns it with the new <code>PrimaryCensored.jl</code> package in our <a href="https://github.com/Epiaware" class="external-link">Julia ecosystem</a>.</p>
<p>Aside from name changes, this release also adds an analytical solution for the weibull distribution with uniform primary censoring, removes the need to assign functions to the global environment for <code><a href="../reference/fitdistdoublecens.html">fitdistdoublecens()</a></code> by using <code>withr</code>, and adds a <code><a href="../reference/check_truncation.html">check_truncation()</a></code> function to check if the truncation time is larger than the maximum observed delay. This is used in <code><a href="../reference/fitdistdoublecens.html">fitdistdoublecens()</a></code> and <code><a href="../reference/pcd_as_stan_data.html">pcd_as_stan_data()</a></code> to ensure that the truncation time is appropriate to maximise computational efficiency.</p>
<div class="section level3">
<h3 id="package-0-6-0">Package<a class="anchor" aria-label="anchor" href="#package-0-6-0"></a></h3>
<ul><li>Removed the need to assign functions to the global environment for <code><a href="../reference/fitdistdoublecens.html">fitdistdoublecens()</a></code> by using <code>withr</code>.</li>
<li>Added a <code><a href="../reference/check_truncation.html">check_truncation()</a></code> function to check if the truncation time is larger than the maximum observed delay. This is used in <code><a href="../reference/fitdistdoublecens.html">fitdistdoublecens()</a></code> and <code><a href="../reference/pcd_as_stan_data.html">pcd_as_stan_data()</a></code> to ensure that the truncation time is appropriate to maximise computational efficiency.</li>
<li>
<code>pcd_as_cmdstan_data()</code> has been renamed to <code><a href="../reference/pcd_as_stan_data.html">pcd_as_stan_data()</a></code> to better reflect that it is used for <code>Stan</code> models in general rather than just the <code>CmdStan</code> models.</li>
<li>The stan code has been refactored into a folder of functions within the current <code>stan</code> folder and the <code>stan</code> model has been moved into the <code>stan</code> folder. All paths to the stan code have been updated to reflect this.</li>
<li>Added R and stan implementations of the primary censored cdf for the weibull distribution with uniform primary censoring.</li>
<li>The package has been renamed to <code>primarycensored</code> as have all functions that use “dist” in their name.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-0-6-0">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-6-0"></a></h3>
<ul><li>Simplified the “Analytic solutions” vignette by removing verbose derivation details.</li>
<li>Added links between vignettes to make it easier to navigate the documentation.</li>
<li>Added explicit usage of <code>pdist</code>, <code>dprimary</code>, <code>rdist</code>, and <code>rprimary</code> arguments in the getting started vignette to make it easier to link to mathematical details.</li>
<li>Fixed error in “Analytic solutions” vignette where the Weibull density was not being treated as zero for negative delays.</li>
<li>Split “Why it works” vignette into two separate vignettes, “Why it works” and “Analytic solutions for censored delay distributions”.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="primarycensored-050">primarycensored 0.5.0<a class="anchor" aria-label="anchor" href="#primarycensored-050"></a></h2>
<p>This release adds a new <code>{touchstone}</code> based benchmark suite to the package. It also adds a new “How it works” vignette which aims to give the reader more details into how the primary censored distributions work.</p>
<p>As part of the “How it works” we (<a href="https://github.com/SamuelBrand1" class="external-link">@SamuelBrand1</a>) found analytical solutions for the gamma, lognormal, and weibull distributions with uniform primary censoring. These are now implemented for the lognormal and gamma distributions in the <code>R</code> and <code>stan</code> code providing significant speedups to the fitting process (~10-20 times faster). The Weibull will be added in the next release.</p>
<div class="section level3">
<h3 id="package-0-5-0">Package<a class="anchor" aria-label="anchor" href="#package-0-5-0"></a></h3>
<ul><li>Add <code>{touchstone}</code> based benchmarks for benchmarking R utility functions, and fitting the <code>stan</code> and <code>fitdistplus</code> models.</li>
<li>Added a “How it works” vignette.</li>
<li>Added R infrastructure for analytical solutions via the <code>primarycensored</code> S3 class.</li>
<li>Added Weibull analytical solution to “How it works” vignette.</li>
<li>Added analytical solutions for the gamma and lognormal distributions with uniform primary censoring to both the <code>R</code> and <code>stan</code> code.</li>
<li>Added numerical protection to ensure that CDFs for delays greater than the maximum truncation are exactly 1.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="primarycensored-040">primarycensored 0.4.0<a class="anchor" aria-label="anchor" href="#primarycensored-040"></a></h2>
<p>In this release, we have added a new package <code>stan</code> model for fitting distributions using the <code>cmdstanr</code> package. We have also added a new function <code><a href="../reference/fitdistdoublecens.html">fitdistdoublecens()</a></code> to allow for fitting of double censored and truncated data using the <code>fitdistrplus</code> package. As well as these functionality improvements this release focuses on improving the stability of the <code>stan</code> model and improving the speed of the <code>primarycensored_ode</code> function.</p>
<div class="section level3">
<h3 id="package-0-4-0">Package<a class="anchor" aria-label="anchor" href="#package-0-4-0"></a></h3>
<ul><li>Added a new function <code><a href="../reference/fitdistdoublecens.html">fitdistdoublecens()</a></code> to allow for fitting of double censored and truncated data using the <code>fitdistrplus</code> package.</li>
<li>Added low level tests for the Stan <code>primarycensored_ode</code> function.</li>
<li>Rephrased the stan code to use a ODE solver rather than a numerical integration method. This allows for much faster and more stable computation of the likelihood</li>
<li>Added a <code>CmdStan</code> model for fitting distributions using the <code>cmdstanr</code> package.</li>
<li>Added helpers functions for working with the new <code>CmdStan</code> model and added an example to the vignette.</li>
<li>Added parameter recovery tests for the new <code>CmdStan</code> model which tests the <code>primarycensored_lpmf</code> function when used with NUTS based fitting.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="primarycensored-030">primarycensored 0.3.0<a class="anchor" aria-label="anchor" href="#primarycensored-030"></a></h2>
<p>This release fixes and improves truncation handling across the code base. It also adds a new vignette showcasing how to use the <code>primarycensored</code> and <code>fitdistrplus</code> packages together to fit distributions.</p>
<div class="section level3">
<h3 id="package-0-3-0">Package<a class="anchor" aria-label="anchor" href="#package-0-3-0"></a></h3>
<ul><li>Updated the approach to truncation to be outside the primary censored distribution integral.</li>
<li>Improved tests that compare random sampling and probability mass/density functions between R and Stan.</li>
<li>Improved cross-testing between R and Stan implementations of the primary censored distributions.</li>
<li>Worked on improving the stability of the <code>primarycensored_lpmf</code> when used for NUTS based fitting (i.e. in Stan).</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-0-3-0">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-3-0"></a></h3>
<ul><li>@athowes improved the getting started vignette by catching a few grammar errors and simplifying language.</li>
<li>Added a new vignette showcasing how to use the <code>primarycensored</code> and <code>fitdistrplus</code> packages together to fit distributions.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="primarycensored-020">primarycensored 0.2.0<a class="anchor" aria-label="anchor" href="#primarycensored-020"></a></h2>
<p>This release puts in place initial documentation and vignettes. It also includes a new primary censored distribution interface to allow for non-secondary event censored distributions. Development of this release as identified some numerical issues in the gradient evaluations for the primary censored distributions which may lead to breaking interface changes in <code>0.3.0</code> for the Stan code.</p>
<div class="section level3">
<h3 id="package-0-2-0">Package<a class="anchor" aria-label="anchor" href="#package-0-2-0"></a></h3>
<ul><li>Added support for <code>swindow = 0</code> to <code>rprimarycensored</code> to allow for non-secondary event censored distributions.</li>
<li>Adapted <code>rprimarycensored</code> so that truncation is based on the primary censored distribution before secondary events are censored. This better matches the generative process.</li>
<li>Added a new Stan interface tool to enable finding which files functions are implemented in the Stan code.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-0-2-0">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-2-0"></a></h3>
<ul><li>Added a getting started vignette.</li>
<li>Added a vignette showcasing how to use the package Stan code with <code>cmdstanr</code>.</li>
<li>Added a vignette showcasing how to fit distributions using the <code>cmdstanr</code> package.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="primarycensored-010">primarycensored 0.1.0<a class="anchor" aria-label="anchor" href="#primarycensored-010"></a></h2>
<p>This is the initial <code>primarycensored</code> release and includes R and stan tools for dealing with potentially truncated primary event censored delay distributions. We expect all current features to work but the UI may change as the package matures over the next few versions.</p>
<div class="section level3">
<h3 id="package-0-1-0">Package<a class="anchor" aria-label="anchor" href="#package-0-1-0"></a></h3>
<ul><li>Added package skeleton.</li>
<li>Added checking input functions.</li>
<li>Added stan functions for primary censored and truncated distributions.</li>
<li>Added R functions for primary censored and truncated distributions.</li>
<li>Add R function to facilitate working with the Stan code.</li>
<li>Added tests for primary censored and truncated distributions.</li>
<li>Added tests to compare R and Stan implementations.</li>
<li>Added tests for the R functions that facilitate working with the Stan code.</li>
<li>Resolved R CMD check errors, warnings and notes.</li>
<li>Added a hexsticker.</li>
<li>Added vignette skeletons in preparation for <code>0.2.0</code> release.</li>
</ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.samabbott.co.uk/" class="external-link">Sam Abbott</a>, Sam Brand, James Mba Azam, Carl Pearson, Sebastian Funk, Kelly Charniga.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.9000.</p>
</div>

    </footer></div>





  </body></html>

