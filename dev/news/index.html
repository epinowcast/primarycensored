<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • primarycensoreddist</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="../deps/MathJax-3.2.2/tex-chtml.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://primarycensoreddist.epinowcast.org/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">primarycensoreddist</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.5.0.1000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/primarycensoreddist.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-reference" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Reference</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-reference"><li><a class="dropdown-item" href="../reference/index.html">R reference</a></li>
    <li><a class="dropdown-item" href="https://primarycensoreddist.epinowcast.org/stan/">Stan reference</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/using-stan-tools.html">How to use primarycensoreddist with Stan</a></li>
    <li><a class="dropdown-item" href="../articles/fitting-dists-with-stan.html">Fitting distributions using primarycensorseddist and cmdstan</a></li>
    <li><a class="dropdown-item" href="../articles/fitting-dists-with-fitdistrplus.html">Fitting distributions using primarycensorseddist and fitdistrplus</a></li>
    <li><a class="dropdown-item" href="../articles/why-it-works.html">Why it works</a></li>
    <li><a class="dropdown-item" href="../articles/analytic-solutions.html">Analytic solutions for censored delay distributions</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/epinowcast/primarycensoreddist/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/epinowcast/primarycensoreddist/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0.1000" id="primarycensoreddist-0501000">primarycensoreddist 0.5.0.1000<a class="anchor" aria-label="anchor" href="#primarycensoreddist-0501000"></a></h2>
<p>This is the development version of <code>primarycensoreddist</code> and is not yet ready for release.</p>
<div class="section level3">
<h3 id="package-0-5-0-1000">Package<a class="anchor" aria-label="anchor" href="#package-0-5-0-1000"></a></h3>
<ul><li>Split “Why it works” vignette into two separate vignettes, “Why it works” and “Analytic solutions for censored delay distributions”.</li>
<li>Removed the need to assign functions to the global environment for <code><a href="../reference/fitdistdoublecens.html">fitdistdoublecens()</a></code> by using <code>withr</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="primarycensoreddist-050">primarycensoreddist 0.5.0<a class="anchor" aria-label="anchor" href="#primarycensoreddist-050"></a></h2>
<p>This release adds a new <code>{touchstone}</code> based benchmark suite to the package. It also adds a new “How it works” vignette which aims to give the reader more details into how the primary censored distributions work.</p>
<p>As part of the “How it works” we (<a href="https://github.com/SamuelBrand1" class="external-link">@SamuelBrand1</a>) found analytical solutions for the gamma, lognormal, and weibull distributions with uniform primary censoring. These are now implemented for the lognormal and gamma distributions in the <code>R</code> and <code>stan</code> code providing significant speedups to the fitting process (~10-20 times faster). The Weibull will be added in the next release.</p>
<div class="section level3">
<h3 id="package-0-5-0">Package<a class="anchor" aria-label="anchor" href="#package-0-5-0"></a></h3>
<ul><li>Add <code>{touchstone}</code> based benchmarks for benchmarking R utility functions, and fitting the <code>stan</code> and <code>fitdistplus</code> models.</li>
<li>Added a “How it works” vignette.</li>
<li>Added R infrastructure for analytical solutions via the <code>primary_censored_dist</code> S3 class.</li>
<li>Added Weibull analytical solution to “How it works” vignette.</li>
<li>Added analytical solutions for the gamma and lognormal distributions with uniform primary censoring to both the <code>R</code> and <code>stan</code> code.</li>
<li>Added numerical protection to ensure that CDFs for delays greater than the maximum truncation are exactly 1.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="primarycensoreddist-040">primarycensoreddist 0.4.0<a class="anchor" aria-label="anchor" href="#primarycensoreddist-040"></a></h2>
<p>In this release, we have added a new package <code>stan</code> model for fitting distributions using the <code>cmdstanr</code> package. We have also added a new function <code><a href="../reference/fitdistdoublecens.html">fitdistdoublecens()</a></code> to allow for fitting of double censored and truncated data using the <code>fitdistrplus</code> package. As well as these functionality improvements this release focuses on improving the stability of the <code>stan</code> model and improving the speed of the <code>primary_censored_ode</code> function.</p>
<div class="section level3">
<h3 id="package-0-4-0">Package<a class="anchor" aria-label="anchor" href="#package-0-4-0"></a></h3>
<ul><li>Added a new function <code><a href="../reference/fitdistdoublecens.html">fitdistdoublecens()</a></code> to allow for fitting of double censored and truncated data using the <code>fitdistrplus</code> package.</li>
<li>Added low level tests for the Stan <code>primary_censored_ode</code> function.</li>
<li>Rephrased the stan code to use a ODE solver rather than a numerical integration method. This allows for much faster and more stable computation of the likelihood</li>
<li>Added a <code>CmdStan</code> model for fitting distributions using the <code>cmdstanr</code> package.</li>
<li>Added helpers functions for working with the new <code>CmdStan</code> model and added an example to the vignette.</li>
<li>Added parameter recovery tests for the new <code>CmdStan</code> model which tests the <code>primary_censored_dist_lpmf</code> function when used with NUTS based fitting.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="primarycensoreddist-030">primarycensoreddist 0.3.0<a class="anchor" aria-label="anchor" href="#primarycensoreddist-030"></a></h2>
<p>This release fixes and improves truncation handling across the code base. It also adds a new vignette showcasing how to use the <code>primarycensoreddist</code> and <code>fitdistrplus</code> packages together to fit distributions.</p>
<div class="section level3">
<h3 id="package-0-3-0">Package<a class="anchor" aria-label="anchor" href="#package-0-3-0"></a></h3>
<ul><li>Updated the approach to truncation to be outside the primary censored distribution integral.</li>
<li>Improved tests that compare random sampling and probability mass/density functions between R and Stan.</li>
<li>Improved cross-testing between R and Stan implementations of the primary censored distributions.</li>
<li>Worked on improving the stability of the <code>primary_censored_dist_lpmf</code> when used for NUTS based fitting (i.e. in Stan).</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-0-3-0">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-3-0"></a></h3>
<ul><li>@athowes improved the getting started vignette by catching a few grammar errors and simplifying language.</li>
<li>Added a new vignette showcasing how to use the <code>primarycensoreddist</code> and <code>fitdistrplus</code> packages together to fit distributions.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="primarycensoreddist-020">primarycensoreddist 0.2.0<a class="anchor" aria-label="anchor" href="#primarycensoreddist-020"></a></h2>
<p>This release puts in place initial documentation and vignettes. It also includes a new primary censored distribution interface to allow for non-secondary event censored distributions. Development of this release as identified some numerical issues in the gradient evaluations for the primary censored distributions which may lead to breaking interface changes in <code>0.3.0</code> for the Stan code.</p>
<div class="section level3">
<h3 id="package-0-2-0">Package<a class="anchor" aria-label="anchor" href="#package-0-2-0"></a></h3>
<ul><li>Added support for <code>swindow = 0</code> to <code>rprimarycensoreddist</code> to allow for non-secondary event censored distributions.</li>
<li>Adapted <code>rprimarycensoreddist</code> so that truncation is based on the primary censored distribution before secondary events are censored. This better matches the generative process.</li>
<li>Added a new Stan interface tool to enable finding which files functions are implemented in the Stan code.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-0-2-0">Documentation<a class="anchor" aria-label="anchor" href="#documentation-0-2-0"></a></h3>
<ul><li>Added a getting started vignette.</li>
<li>Added a vignette showcasing how to use the package Stan code with <code>cmdstanr</code>.</li>
<li>Added a vignette showcasing how to fit distributions using the <code>cmdstanr</code> package.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="primarycensoreddist-010">primarycensoreddist 0.1.0<a class="anchor" aria-label="anchor" href="#primarycensoreddist-010"></a></h2>
<p>This is the initial <code>primarycensoreddist</code> release and includes R and stan tools for dealing with potentially truncated primary event censored delay distributions. We expect all current features to work but the UI may change as the package matures over the next few versions.</p>
<div class="section level3">
<h3 id="package-0-1-0">Package<a class="anchor" aria-label="anchor" href="#package-0-1-0"></a></h3>
<ul><li>Added package skeleton.</li>
<li>Added checking input functions.</li>
<li>Added stan functions for primary censored and truncated distributions.</li>
<li>Added R functions for primary censored and truncated distributions.</li>
<li>Add R function to facilitate working with the Stan code.</li>
<li>Added tests for primary censored and truncated distributions.</li>
<li>Added tests to compare R and Stan implementations.</li>
<li>Added tests for the R functions that facilitate working with the Stan code.</li>
<li>Resolved R CMD check errors, warnings and notes.</li>
<li>Added a hexsticker.</li>
<li>Added vignette skeletons in preparation for <code>0.2.0</code> release.</li>
</ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.samabbott.co.uk/" class="external-link">Sam Abbott</a>, Sam Brand.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

