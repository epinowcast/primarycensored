<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate random samples from a primary event censored distribution — rprimarycensoreddist • primarycensoreddist</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="../deps/MathJax-3.2.2/tex-chtml.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate random samples from a primary event censored distribution — rprimarycensoreddist"><meta name="description" content="This function generates random samples from a primary event censored
distribution. It adjusts the distribution by accounting for the primary
event distribution and potential truncation at a maximum delay (D). The
function allows for custom primary event distributions and delay
distributions."><meta property="og:description" content="This function generates random samples from a primary event censored
distribution. It adjusts the distribution by accounting for the primary
event distribution and potential truncation at a maximum delay (D). The
function allows for custom primary event distributions and delay
distributions."><meta property="og:image" content="https://primarycensoreddist.epinowcast.org/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">primarycensoreddist</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/primarycensoreddist.html">Get started</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-reference" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Reference</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-reference"><li><a class="dropdown-item" href="../reference/index.html">R reference</a></li>
    <li><a class="dropdown-item" href="https://primarycensoreddist.epinowcast.org/stan/">Stan reference</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/stan.html">Fitting distributions using primarycensorseddist and cmdstan</a></li>
    <li><a class="dropdown-item" href="../articles/fitdistr.html">Fitting distributions using primarycensorseddist and fitdistr</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/epinowcast/primarycensoreddist/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Generate random samples from a primary event censored distribution</h1>
      <small class="dont-index">Source: <a href="https://github.com/epinowcast/primarycensoreddist/blob/main/R/rprimarycensoreddist.R" class="external-link"><code>R/rprimarycensoreddist.R</code></a></small>
      <div class="d-none name"><code>rprimarycensoreddist.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function generates random samples from a primary event censored
distribution. It adjusts the distribution by accounting for the primary
event distribution and potential truncation at a maximum delay (D). The
function allows for custom primary event distributions and delay
distributions.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rprimarycensoreddist</span><span class="op">(</span></span>
<span>  <span class="va">n</span>,</span>
<span>  <span class="va">rdist</span>,</span>
<span>  pwindow <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  swindow <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  D <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  rprimary <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span>,</span>
<span>  rprimary_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  oversampling_factor <span class="op">=</span> <span class="fl">1.2</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">rpcens</span><span class="op">(</span></span>
<span>  <span class="va">n</span>,</span>
<span>  <span class="va">rdist</span>,</span>
<span>  pwindow <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  swindow <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  D <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  rprimary <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span>,</span>
<span>  rprimary_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  oversampling_factor <span class="op">=</span> <span class="fl">1.2</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>Number of random samples to generate.</p></dd>


<dt id="arg-rdist">rdist<a class="anchor" aria-label="anchor" href="#arg-rdist"></a></dt>
<dd><p>Function to generate random samples from the delay distribution
for example <code><a href="https://rdrr.io/r/stats/Lognormal.html" class="external-link">stats::rlnorm()</a></code> for lognormal distribution.</p></dd>


<dt id="arg-pwindow">pwindow<a class="anchor" aria-label="anchor" href="#arg-pwindow"></a></dt>
<dd><p>Primary event window</p></dd>


<dt id="arg-swindow">swindow<a class="anchor" aria-label="anchor" href="#arg-swindow"></a></dt>
<dd><p>Secondary event window (default: 1)</p></dd>


<dt id="arg-d">D<a class="anchor" aria-label="anchor" href="#arg-d"></a></dt>
<dd><p>Maximum delay (truncation point). If finite, the distribution is
truncated at D. If set to Inf, no truncation is applied. Defaults to Inf.</p></dd>


<dt id="arg-rprimary">rprimary<a class="anchor" aria-label="anchor" href="#arg-rprimary"></a></dt>
<dd><p>Function to generate random samples from the primary
distribution (default is <code><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">stats::runif()</a></code>).</p></dd>


<dt id="arg-rprimary-args">rprimary_args<a class="anchor" aria-label="anchor" href="#arg-rprimary-args"></a></dt>
<dd><p>List of additional arguments to be passed to rprimary.</p></dd>


<dt id="arg-oversampling-factor">oversampling_factor<a class="anchor" aria-label="anchor" href="#arg-oversampling-factor"></a></dt>
<dd><p>Factor by which to oversample the number of
samples to account for truncation (default is 1.2).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments to be passed to the distribution function.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Vector of random samples from the primary event censored
distribution</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The primary event censored random samples are generated by first
oversampling to account for potential truncation. Primary event times are
generated from the specified primary event distribution, and delays are
generated from the specified delay distribution. The total delays are
calculated by adding the primary event times and the delays. These total
delays are then rounded to the nearest secondary event window (swindow).
Truncation is applied to ensure that the delays are within the specified
range [0, D]. If the number of valid samples is less than the desired
number of samples (n), additional samples are generated until the required
number of valid samples is obtained.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Primary event censored distribution functions
<code><a href="dprimarycensoreddist.html">dprimarycensoreddist</a>()</code>,
<code><a href="pprimarycensoreddist.html">pprimarycensoreddist</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example: Lognormal distribution with uniform primary events</span></span></span>
<span class="r-in"><span><span class="fu">rprimarycensoreddist</span><span class="op">(</span><span class="fl">10</span>, <span class="va">rlnorm</span>, meanlog <span class="op">=</span> <span class="fl">0</span>, sdlog <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 1 3 3 1 1 6 1 3 4 1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example: Lognormal distribution with exponential growth primary events</span></span></span>
<span class="r-in"><span><span class="fu">rprimarycensoreddist</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fl">10</span>, <span class="va">rlnorm</span>,</span></span>
<span class="r-in"><span>  rprimary <span class="op">=</span> <span class="va">rexpgrowth</span>, rprimary_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>r <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  meanlog <span class="op">=</span> <span class="fl">0</span>, sdlog <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 1 3 1 0 1 1 2 9 1 1</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://www.samabbott.co.uk/" class="external-link">Sam Abbott</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.9000.</p>
</div>

    </footer></div>





  </body></html>

